# Hospital Agent System 配置文件
# 
# 配置优先级（从高到低）:
#   1. CLI参数（命令行传入）
#   2. 环境变量（AGENT_MAX_QUESTIONS等）
#   3. 此配置文件（config.yaml）
#   4. 代码默认值（config.py中的dataclass默认值）
#
# 使用说明：
#   - 修改此文件后，重新运行程序即可生效
#   - 所有配置项都会传递到整个系统的各个模块
#   - 如需临时覆盖，使用CLI参数或环境变量

# LLM配置
llm:
  backend: deepseek        # LLM后端: mock 或 deepseek
  enable_reports: false    # 是否使用LLM增强检查报告叙述

# 智能体配置
agent:
  max_questions: 3         # 医生最多问几个问题（配额，医生可根据信息充分性主动提前结束）
                           # 影响范围：DoctorAgent、专科子图、问诊流程
                           # 修改此值将全局生效
  max_triage_questions: 1  # 护士分诊时最多问几个问题

# RAG配置（Adaptive RAG 系统）
rag:
  skip_rag: false                             # 跳过 RAG 系统初始化（用于测试）
  
  # SPLLM-RAG1 配置
  spllm_root: ../SPLLM-RAG1                   # SPLLM-RAG1 项目路径（相对或绝对路径）
  adaptive_cache_folder: null                 # 模型缓存目录（null=默认为 spllm_root/model_cache）
  adaptive_threshold: 0.3                     # 余弦距离阈值（0-1，越小匹配越严格）
  adaptive_embed_model: shibing624/text2vec-base-chinese  # 嵌入模型

# 运行模式配置
mode:
  multi_patient: true            # 多患者多医生模式（推荐，num_patients=1时等同于单体模式）
  num_patients: 5               # 患者数量（1=单患者模式，>1=多患者并发模式）
  patient_interval: 60            # 患者进入间隔时间（秒，单患者时可设为0）

# 物理环境配置
physical:
  interactive: false             # 启用交互式命令模式

# 数据库配置
database:
  enabled: true                                     # 是否启用数据库（false则使用文件存储）
  connection_string: "mysql+pymysql://root:cufe2026@bj-cdb-bdka53ky.sql.tencentcdb.com:27415/agent?charset=utf8mb4"
  # 备用连接
  # connection_string: "mysql+pymysql://root:123456@10.11.169.21:3306/agent?charset=utf8mb4"
  # connection_string: "mysql+pymysql://root:123456@101.42.36.8:3306/agent?charset=utf8mb4"
  backup_to_file: false                               # 数据库模式下是否同时备份到文件

# 系统配置
system:
  verbose: false                 # 终端显示详细日志
